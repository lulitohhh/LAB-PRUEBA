(()=>{"use strict";var t=function(t,e,n,o){return new(n||(n=Promise))((function(i,s){function a(t){try{c(o.next(t))}catch(t){s(t)}}function r(t){try{c(o.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}c((o=o.apply(t,e||[])).next())}))};var e;!function(t){t.image="image",t.name="name",t.status="status",t.species="species",t.type="type",t.origin="origin",t.nameep="nameep"}(e||(e={}));class n extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return Object.keys({image:null,status:null,species:null,name:null,type:null,origin:null,nameep:null})}connectedCallback(){this.render()}attributeChangedCallback(t,e,n){this[t]=n,console.log(t,n)}render(){this.shadowRoot&&(this.shadowRoot.innerHTML=`\n\n\t\t\t<img src="${this.image}">\n\t\t\t<p class="titulo">${this.name}</p>\n\t\t\t<p>Estatus:${this.status}</p>\n\t\t\t<p>Species:${this.species}</p>\n\t\t\t<p>Type:${this.type}</p>\n\t\t\t<p>Origin:${this.origin}</p>\n\t\t\t<p>Episode:${this.nameep}</p>\n      `)}}window.customElements.define("crear-cartoon",n);var o=function(t,e,n,o){return new(n||(n=Promise))((function(i,s){function a(t){try{c(o.next(t))}catch(t){s(t)}}function r(t){try{c(o.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}c((o=o.apply(t,e||[])).next())}))};class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["cantidadpersonajes"]}attributeChangedCallback(t,e,n){"cantidadpersonajes"==t&&(this.cantidadPersonajes=n?Number(n):void 0),this.render()}connectedCallback(){}render(){return o(this,void 0,void 0,(function*(){var n,i;this.cartoons=yield(i=this.cantidadPersonajes,t(void 0,void 0,void 0,(function*(){let t="";for(let e=1;e<=i;e++)t+=e+",";console.log("listado",t);try{const e=yield fetch("https://rickandmortyapi.com/api/character/"+t).then((t=>t.json()));return console.log("Respuesta",e),e}catch(t){console.log(t)}}))),this.removeAllChilds(),this.shadowRoot&&(null===(n=this.cartoons)||void 0===n||n.forEach((n=>o(this,void 0,void 0,(function*(){var o;const i=yield(s=n.episode[0],t(void 0,void 0,void 0,(function*(){try{const t=yield fetch(s).then((t=>t.json()));return console.log("Respuesta name eps",t),t}catch(t){console.log(t)}})));var s;const a=this.ownerDocument.createElement("crear-cartoon");a.setAttribute(e.image,n.image),a.setAttribute(e.status,n.status),a.setAttribute(e.species,n.species),a.setAttribute(e.name,n.name),a.setAttribute(e.type,n.type),a.setAttribute(e.origin,n.origin.name),a.setAttribute(e.nameep,i.name),null===(o=this.shadowRoot)||void 0===o||o.appendChild(a)})))))}))}removeAllChilds(){for(var t,e;null===(t=this.shadowRoot)||void 0===t?void 0:t.hasChildNodes();)null===(e=this.shadowRoot)||void 0===e||e.removeChild(this.shadowRoot.firstChild)}}window.customElements.define("app-container",i)})();